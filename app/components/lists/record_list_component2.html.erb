<% if @records.present? %>
  <% @records.each do |record| %>
    <div class="py-3 u-underline">
      <div class="mb-3">
        <%= render RecordHeaderComponent2.new(record: record, current_user: @current_user) %>
      </div>

      <% if record.episode_record? %>
        <%= render EpisodeRecordContentComponent2.new(
          current_user: @current_user,
          record: record,
          show_card: @show_card
        ) %>
      <% elsif record_entity.anime_record? %>
        <%= render AnimeRecordContentComponent.new(
          user_entity: record_entity.user,
          anime_entity: record_entity.trackable,
          record_entity: record_entity,
          anime_record_entity: record_entity.recordable,
          show_card: @show_card
        ) %>
      <% end %>
    </div>
  <% end %>

  <% if @records.respond_to?(:total_pages) && @records.total_pages > 1 %>
    <div class="mt-3 text-center">
      <%= paginate @records %>
    </div>
  <% end %>
<% else %>
  <%= render EmptyComponent.new(text: t("messages._empty.no_records")) %>
<% end %>
