query($username: String!, $first: Int, $last: Int, $before: String, $after: String) {
  user(username: $username) {
    activityGroups(
      orderBy: { field: CREATED_AT, direction: DESC }
      first: $first
      last: $last
      before: $before
      after: $after
    ) {
      pageInfo {
        startCursor
        endCursor
        hasNextPage
        hasPreviousPage
      }

      nodes {
        id
        itemableType
        single
        activitiesCount
        createdAt

        user {
          username
          name
          avatarUrl(size: size100)
        }

        activities(first: 2) {
          pageInfo {
            endCursor
          }

          nodes {
            itemableType

            itemable {
              ... on Status {
                databaseId
                kind
                likesCount

                anime {
                  databaseId
                  title
                  titleEn
                  image {
                    internalUrl1x: internalUrl(size: "60x")
                    internalUrl2x: internalUrl(size: "120x")
                  }
                }
              }

              ... on Record {
                databaseId
                commentHtml
                likesCount
                modifiedAt
                createdAt

                user {
                  databaseId
                  username
                  name
                  avatarUrl(size: size200)
                  displaySupporterBadge
                }

                trackable {
                  __typename

                  ... on Anime {
                    databaseId
                    title
                    titleEn
                    image {
                      internalUrl1x: internalUrl(size: "60x")
                      internalUrl2x: internalUrl(size: "120x")
                    }
                  }

                  ... on Episode {
                    databaseId
                    number
                    title
                    titleEn

                    anime {
                      databaseId
                      title
                      titleEn
                      image {
                        internalUrl1x: internalUrl(size: "60x")
                        internalUrl2x: internalUrl(size: "120x")
                      }
                    }
                  }
                }

                recordable {
                  __typename

                  ... on EpisodeRecord {
                    rating
                    advancedRating
                    commentsCount

                    episode {
                      databaseId
                    }
                  }

                  ... on AnimeRecord {
                    ratingAnimation
                    ratingMusic
                    ratingStory
                    ratingCharacter
                    ratingOverall
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
